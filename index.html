<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Asistencia de Estudiantes</title>

    <!-- Tailwind (OK para desarrollo) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Manifest PWA -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#24496e" />

    <!-- Estilos extra -->
    <style>
      :root {
        --azul: #24496e;
        --crema: #f3efdc;
        --violeta: #6c467e;
        --salmon: #da6863;
      }
      body {
        background: var(--crema);
      }
    </style>
  </head>

  <body class="min-h-dvh text-slate-900">

    <!-- React monta la aplicaciÃ³n aquÃ­ -->
    <div id="root"></div>

    <!-- React 18 -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- âŒ Firebase â€” ELIMINADO -->
    <!-- NO poner Firebase nunca mÃ¡s. -->

    <!-- âœ”ï¸ Supabase UMD (CORRECTO) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.4/dist/umd/supabase.min.js"></script>
    <script>
      window.SUPABASE_URL = "https://arwzwdyaukilbsxvsfsl.supabase.co";
      window.SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyd3p3ZHlhdWtpbGJzeHZzZnNsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMzAwNjMsImV4cCI6MjA3ODkwNjA2M30.0s2D5YBdBqQnTsITB8T797iAmAZrEZrNRrttYmz9c_k";

      window.supabase = supabase.createClient(
        window.SUPABASE_URL,
        window.SUPABASE_ANON_KEY
      );
    </script>

    <!-- Tu lÃ³gica de login Supabase -->
    <script src="auth_supabase.js"></script>

    <!-- Tu app completa -->
    <script src="app.js"></script>

    <!-- Montaje final CORRECTO -->
    <script>
      ReactDOM.createRoot(document.getElementById("root"))
        .render(React.createElement(AppShell));
    </script>

    <!-- Service worker -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("./sw.js").catch(() => {});
      }
    </script>

    <!-- Footer original intacto -->
    <footer class="p-6 md:p-8 text-sm text-slate-700">
      <div class="max-w-3xl mx-auto space-y-3">

        <h3 class="text-base md:text-lg font-semibold" style="color:var(--azul)">
          Â¿CÃ³mo instalar en el celular?
        </h3>

        <ol class="list-decimal ml-5 space-y-1">
          <li>En Android/Chrome: MenÃº â‹® â†’ <em>Agregar a la pantalla principal</em>.</li>
          <li>En iOS/Safari: Compartir â†’ <em>AÃ±adir a inicio</em>.</li>
        </ol>

        <div class="mt-8 text-center">
          <a href="https://cafecito.app/docentesbrown"
             target="_blank"
             rel="noopener"
             class="inline-block px-5 py-3 rounded-2xl text-white font-semibold shadow"
             style="background:var(--salmon)">
            â˜• Bancanos con un cafecito
          </a>
        </div>

        <div class="mt-4 text-center">
          <button onclick="window.__openExport()"
                  class="inline-block px-5 py-3 rounded-2xl text-white font-semibold shadow"
                  style="background:var(--azul)">
            ðŸ“‚ Exportar / Importar
          </button>
        </div>

      </div>
    </footer>
  </body>
</html>
